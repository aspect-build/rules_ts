# See https://docs.aspect.build/workflows/config
---
tasks:
    - format:
          queue: aspect-small-amd64
    - buildifier:
          queue: aspect-small-arm64
    - configure:
          queue: aspect-small-arm64
    - test:
    - delivery:
          auto_deliver: true
          rules:
              - deliverable: 'attr("tags", "\bdeliverable\b", //...)'
                condition:
                    branches:
                        - main
              - deliverable:
                    - //docs:docs_delivery
                condition:
                    only_on_change: false
                    branches:
                        - main
notifications:
    # Report progress of the tasks in a comment on the code review thread
    github: {}
